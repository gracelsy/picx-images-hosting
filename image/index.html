<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>图片预览</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
html,body{margin:0;width:100%;height:100%;background:#0d1117;color:#c9d1d9}
.viewer{width:100%;height:100%;display:flex;align-items:center;justify-content:center}
img{max-width:92vw;max-height:92vh;object-fit:contain;background:#000;border-radius:8px}
.panel{
  position:fixed;right:20px;top:20px;
  background:#161b22;border:1px solid #30363d;
  border-radius:10px;padding:12px;font-size:13px
}
button{margin-top:6px;width:100%;background:#21262d;border:1px solid #30363d;color:#c9d1d9;border-radius:6px;padding:4px}
</style>
</head>
<body>

<div class="viewer">
  <img id="img">
</div>

<div class="panel">
  <div id="info"></div>
  <button onclick="copy()">复制图片链接</button>
</div>

<script>
const path = decodeURIComponent(new URLSearchParams(location.search).get("path")||"");
if(!path) location.replace("/");

const img=document.getElementById("img");
img.src="/"+path;

img.onload=()=>{
  document.getElementById("info").innerHTML=`
  <div>名称：${path.split("/").pop()}</div>
  <div>尺寸：${img.naturalWidth} × ${img.naturalHeight}</div>
  <div>格式：${path.split(".").pop()}</div>
  `;
};

function copy(){
  navigator.clipboard.writeText(location.origin+"/"+path);
}
</script>

</body>
</html>
